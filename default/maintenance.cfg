[gcode_macro MAINTENANCE]
description: move the toolhead to a convenient position for working on it
gcode:

  {% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
  {% set max_z = printer.configfile.config["stepper_z"]["position_max"]|float %}

  {% set mid_x = max_x / 2.0 %}
  {% set z80 = max_z * 0.6 %}

  STATUS_BUSY
  HOME_IF_NEEDED
  G0 X{mid_x} Y20 Z{z80} F10000
  STATUS_READY
 

[gcode_macro LIGHTS_ON]
description: move the toolhead to a convenient position for working on it
gcode:
  SET_PIN PIN=light VALUE=1.00
  SET_LED LED="btt_mini12864" RED=0 GREEN=0 BLUE=0 SYNC=0 TRANSMIT=1

[gcode_macro LIGHTS_OFF]
description: move the toolhead to a convenient position for working on it
gcode:
  SET_PIN PIN=light VALUE=0.00
  SET_LED LED="btt_mini12864" RED=0 GREEN=0 BLUE=0 SYNC=0 TRANSMIT=1